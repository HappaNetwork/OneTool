{extend name="common/layout"/}
{block name="head"} {include file="console/head" /}{/block}
{block name="main"}
<div class="row items-push">
    <div class="col-md-12">
        <div class="block block-rounded h-100 mb-0">
            <div class="block-header block-header-default">
                <h3 class="block-title">
                    <i class="fa fa-user fa-fw me-1 text-muted"></i>
                    购买代理
                </h3>
            </div>
            <div class="block-content block-content-full">
                <p class="mb-1">
                    <strong>代理专享特权</strong>
                </p>
                <p class="mb-1 fs-sm">1、开通本站代理商可低价生成卡密售卖，获取高额利润回报。</p>
                <p class="mb-1 fs-sm">2、开通金牌代理商和钻石代理商可生成低于当前等级的代理卡密。</p>
                <p class="mb-1 fs-sm">3、代理三级分销，开通代理拥有更低价格的会员、配额下单价格，不仅仅是自己一人享受。</p>
                <p class="mb-1 fs-sm text-flat">注：系统24小时自动处理订单，支付后自动为您开通代理商，无需等待。</p>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-xl-4">
        <a class="block block-link-pop block-rounded block-bordered text-center" href="javascript:select_payment(1)">
            <div class="block-header">
                <h3 class="block-title">快乐银牌代理</h3>
            </div>
            <div class="block-content bg-body-light">
                <div class="h1 fw-bold mb-2">￥{:config('sys.agent_price_1')}</div>
                <div class="fw-medium text-muted mb-4">{:config('sys.agent_give_z_1')} 折优惠</div>
            </div>
            <div class="block-content">
                <p>
                    <svg t="1642772008393" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7047" width="64" height="64"><path d="M931.555556 456.533333h0.094814-0.094814z" p-id="7048" fill="#8a8a8a"></path><path d="M512 113.777778a253.914074 253.914074 0 1 1-253.914074 253.914074A254.198519 254.198519 0 0 1 512 113.777778m0-56.888889a310.802963 310.802963 0 1 0 310.802963 310.802963A310.802963 310.802963 0 0 0 512 56.888889z" fill="#8a8a8a" p-id="7049"></path><path d="M770.465185 583.86963l104.296296 181.285926-65.327407-7.395556a78.696296 78.696296 0 0 0-8.817778-0.474074 76.705185 76.705185 0 0 0-70.352592 46.174815l-25.78963 60.207407L599.798519 682.666667l170.666666-98.512593m14.980741-85.333333c-3.602963 0-5.12 13.748148-13.368889 18.962963L541.297778 650.42963a24.367407 24.367407 0 0 0-6.257778 33.564444l155.401481 269.179259a26.642963 26.642963 0 0 0 22.376297 13.937778 19.437037 19.437037 0 0 0 9.481481-2.56l60.207408-138.334815a19.531852 19.531852 0 0 1 18.109629-12.041481h2.465185l149.902223 16.971852a24.367407 24.367407 0 0 0 6.257777-33.564445L789.333333 502.518519c-1.611852-2.74963-2.74963-3.792593-3.792592-3.792593zM253.534815 583.86963l170.666666 98.797037-104.296296 181.285926-26.263704-60.207408a76.705185 76.705185 0 0 0-70.352592-46.174815 78.601481 78.601481 0 0 0-8.817778 0.474074l-65.327407 7.395556 104.296296-181.285926m-14.980741-85.333333c-1.042963 0-2.275556 1.137778-3.792592 3.792592l-170.666667 295.158519a24.367407 24.367407 0 0 0 6.257778 33.564444l149.902222-16.971852h2.465185a19.531852 19.531852 0 0 1 18.10963 12.041482l60.207407 138.334815a19.437037 19.437037 0 0 0 9.481482 2.56 26.642963 26.642963 0 0 0 22.376296-13.937778l156.16-269.368889a24.367407 24.367407 0 0 0-6.257778-33.564444L251.922963 517.214815c-8.248889-4.740741-9.481481-18.962963-13.368889-18.962963zM608.047407 551.537778a28.444444 28.444444 0 0 1-13.748148-3.508148L512 502.518519l-82.299259 45.511111a28.444444 28.444444 0 0 1-41.813334-29.487408l16.023704-98.228148L336.213333 350.814815a28.444444 28.444444 0 0 1 16.118519-47.976296l92.349629-14.127408 41.623704-88.557037a28.444444 28.444444 0 0 1 51.484445 0l41.623703 88.557037 92.34963 14.127408A28.444444 28.444444 0 0 1 687.786667 350.814815l-67.697778 69.499259 16.023704 98.322963a28.444444 28.444444 0 0 1-28.444445 32.995556zM512 441.647407a28.444444 28.444444 0 0 1 13.748148 3.602963l44.847408 24.746667-8.912593-54.613333a28.444444 28.444444 0 0 1 7.205926-24.557037L608.426667 350.814815l-52.622223-8.059259a28.444444 28.444444 0 0 1-21.428148-16.023704l-22.281481-47.407408-22.281482 47.407408a28.444444 28.444444 0 0 1-21.428148 16.023704l-52.811852 8.059259L455.111111 390.826667a28.444444 28.444444 0 0 1 7.68 24.462222l-8.912592 54.613333L498.251852 445.62963a28.444444 28.444444 0 0 1 13.748148-3.982223z" fill="#8a8a8a" p-id="7050"></path></svg>                </p>
            </div>
            <div class="block-content block-content-full">
              <span class="btn btn-primary">
                <i class="fa fa-arrow-up opacity-50 me-1"></i> 购买
              </span>
            </div>
        </a>
    </div>
    <div class="col-md-6 col-xl-4">
        <a class="block block-link-pop block-rounded block-bordered text-center" href="javascript:select_payment(2)">
            <div class="block-header">
                <h3 class="block-title">快乐金牌代理</h3>
            </div>
            <div class="block-content bg-body-light">
                <div class="h1 fw-bold mb-2">￥{:config('sys.agent_price_2')}</div>
                <div class="fw-medium text-muted mb-4">{:config('sys.agent_give_z_2')} 折优惠</div>
            </div>
            <div class="block-content">
                <p>
                    <svg t="1642772008393" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7047" width="64" height="64"><path d="M931.555556 456.533333h0.094814-0.094814z" p-id="7048" fill="#f4ea29"></path><path d="M512 113.777778a253.914074 253.914074 0 1 1-253.914074 253.914074A254.198519 254.198519 0 0 1 512 113.777778m0-56.888889a310.802963 310.802963 0 1 0 310.802963 310.802963A310.802963 310.802963 0 0 0 512 56.888889z" fill="#f4ea29" p-id="7049"></path><path d="M770.465185 583.86963l104.296296 181.285926-65.327407-7.395556a78.696296 78.696296 0 0 0-8.817778-0.474074 76.705185 76.705185 0 0 0-70.352592 46.174815l-25.78963 60.207407L599.798519 682.666667l170.666666-98.512593m14.980741-85.333333c-3.602963 0-5.12 13.748148-13.368889 18.962963L541.297778 650.42963a24.367407 24.367407 0 0 0-6.257778 33.564444l155.401481 269.179259a26.642963 26.642963 0 0 0 22.376297 13.937778 19.437037 19.437037 0 0 0 9.481481-2.56l60.207408-138.334815a19.531852 19.531852 0 0 1 18.109629-12.041481h2.465185l149.902223 16.971852a24.367407 24.367407 0 0 0 6.257777-33.564445L789.333333 502.518519c-1.611852-2.74963-2.74963-3.792593-3.792592-3.792593zM253.534815 583.86963l170.666666 98.797037-104.296296 181.285926-26.263704-60.207408a76.705185 76.705185 0 0 0-70.352592-46.174815 78.601481 78.601481 0 0 0-8.817778 0.474074l-65.327407 7.395556 104.296296-181.285926m-14.980741-85.333333c-1.042963 0-2.275556 1.137778-3.792592 3.792592l-170.666667 295.158519a24.367407 24.367407 0 0 0 6.257778 33.564444l149.902222-16.971852h2.465185a19.531852 19.531852 0 0 1 18.10963 12.041482l60.207407 138.334815a19.437037 19.437037 0 0 0 9.481482 2.56 26.642963 26.642963 0 0 0 22.376296-13.937778l156.16-269.368889a24.367407 24.367407 0 0 0-6.257778-33.564444L251.922963 517.214815c-8.248889-4.740741-9.481481-18.962963-13.368889-18.962963zM608.047407 551.537778a28.444444 28.444444 0 0 1-13.748148-3.508148L512 502.518519l-82.299259 45.511111a28.444444 28.444444 0 0 1-41.813334-29.487408l16.023704-98.228148L336.213333 350.814815a28.444444 28.444444 0 0 1 16.118519-47.976296l92.349629-14.127408 41.623704-88.557037a28.444444 28.444444 0 0 1 51.484445 0l41.623703 88.557037 92.34963 14.127408A28.444444 28.444444 0 0 1 687.786667 350.814815l-67.697778 69.499259 16.023704 98.322963a28.444444 28.444444 0 0 1-28.444445 32.995556zM512 441.647407a28.444444 28.444444 0 0 1 13.748148 3.602963l44.847408 24.746667-8.912593-54.613333a28.444444 28.444444 0 0 1 7.205926-24.557037L608.426667 350.814815l-52.622223-8.059259a28.444444 28.444444 0 0 1-21.428148-16.023704l-22.281481-47.407408-22.281482 47.407408a28.444444 28.444444 0 0 1-21.428148 16.023704l-52.811852 8.059259L455.111111 390.826667a28.444444 28.444444 0 0 1 7.68 24.462222l-8.912592 54.613333L498.251852 445.62963a28.444444 28.444444 0 0 1 13.748148-3.982223z" fill="#f4ea29" p-id="7050"></path></svg>                </p>
            </div>
            <div class="block-content block-content-full">
              <span class="btn btn-primary">
                <i class="fa fa-arrow-up opacity-50 me-1"></i> 购买
              </span>
            </div>
        </a>
    </div>
    <div class="col-md-6 col-xl-4">
        <a class="block block-link-pop block-rounded block-bordered text-center" href="javascript:select_payment(3)">
            <div class="block-header">
                <h3 class="block-title">快乐钻石代理</h3>
            </div>
            <div class="block-content bg-body-light">
                <div class="h1 fw-bold mb-2">￥{:config('sys.agent_price_3')}</div>
                <div class="fw-medium text-muted mb-4">{:config('sys.agent_give_z_3')} 折优惠</div>
            </div>
            <div class="block-content">
                <p>
                    <svg t="1642772008393" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7047" width="64" height="64"><path d="M931.555556 456.533333h0.094814-0.094814z" p-id="7048" fill="#1296db"></path><path d="M512 113.777778a253.914074 253.914074 0 1 1-253.914074 253.914074A254.198519 254.198519 0 0 1 512 113.777778m0-56.888889a310.802963 310.802963 0 1 0 310.802963 310.802963A310.802963 310.802963 0 0 0 512 56.888889z" fill="#1296db" p-id="7049"></path><path d="M770.465185 583.86963l104.296296 181.285926-65.327407-7.395556a78.696296 78.696296 0 0 0-8.817778-0.474074 76.705185 76.705185 0 0 0-70.352592 46.174815l-25.78963 60.207407L599.798519 682.666667l170.666666-98.512593m14.980741-85.333333c-3.602963 0-5.12 13.748148-13.368889 18.962963L541.297778 650.42963a24.367407 24.367407 0 0 0-6.257778 33.564444l155.401481 269.179259a26.642963 26.642963 0 0 0 22.376297 13.937778 19.437037 19.437037 0 0 0 9.481481-2.56l60.207408-138.334815a19.531852 19.531852 0 0 1 18.109629-12.041481h2.465185l149.902223 16.971852a24.367407 24.367407 0 0 0 6.257777-33.564445L789.333333 502.518519c-1.611852-2.74963-2.74963-3.792593-3.792592-3.792593zM253.534815 583.86963l170.666666 98.797037-104.296296 181.285926-26.263704-60.207408a76.705185 76.705185 0 0 0-70.352592-46.174815 78.601481 78.601481 0 0 0-8.817778 0.474074l-65.327407 7.395556 104.296296-181.285926m-14.980741-85.333333c-1.042963 0-2.275556 1.137778-3.792592 3.792592l-170.666667 295.158519a24.367407 24.367407 0 0 0 6.257778 33.564444l149.902222-16.971852h2.465185a19.531852 19.531852 0 0 1 18.10963 12.041482l60.207407 138.334815a19.437037 19.437037 0 0 0 9.481482 2.56 26.642963 26.642963 0 0 0 22.376296-13.937778l156.16-269.368889a24.367407 24.367407 0 0 0-6.257778-33.564444L251.922963 517.214815c-8.248889-4.740741-9.481481-18.962963-13.368889-18.962963zM608.047407 551.537778a28.444444 28.444444 0 0 1-13.748148-3.508148L512 502.518519l-82.299259 45.511111a28.444444 28.444444 0 0 1-41.813334-29.487408l16.023704-98.228148L336.213333 350.814815a28.444444 28.444444 0 0 1 16.118519-47.976296l92.349629-14.127408 41.623704-88.557037a28.444444 28.444444 0 0 1 51.484445 0l41.623703 88.557037 92.34963 14.127408A28.444444 28.444444 0 0 1 687.786667 350.814815l-67.697778 69.499259 16.023704 98.322963a28.444444 28.444444 0 0 1-28.444445 32.995556zM512 441.647407a28.444444 28.444444 0 0 1 13.748148 3.602963l44.847408 24.746667-8.912593-54.613333a28.444444 28.444444 0 0 1 7.205926-24.557037L608.426667 350.814815l-52.622223-8.059259a28.444444 28.444444 0 0 1-21.428148-16.023704l-22.281481-47.407408-22.281482 47.407408a28.444444 28.444444 0 0 1-21.428148 16.023704l-52.811852 8.059259L455.111111 390.826667a28.444444 28.444444 0 0 1 7.68 24.462222l-8.912592 54.613333L498.251852 445.62963a28.444444 28.444444 0 0 1 13.748148-3.982223z" fill="#1296db" p-id="7050"></path></svg>                </p>
            </div>
            <div class="block-content block-content-full">
              <span class="btn btn-primary">
                <i class="fa fa-arrow-up opacity-50 me-1"></i> 购买
              </span>
            </div>
        </a>
    </div>
</div>
<div class="content-content p-2" id="payment-selector" style="display: none">
    <div class="text-center fw-semibold fs-sm">请选择支付方式</div>
    <div class="btn-group btn-group-sm my-2" role="group">
        {if condition="config('sys.is_qqpay')"}
        <input type="radio" class="btn-check" name="qqpay" id="qqpay" onclick="ajax_shop_agent('qqpay');">
        <label class="btn btn-alt-info" for="qqpay">QQ支付</label>
        {/if}
        {if condition="config('sys.is_wxpay')"}
        <input type="radio" class="btn-check" name="wxpay" id="wxpay" onclick="ajax_shop_agent('wxpay');">
        <label class="btn btn-alt-info" for="wxpay">微信支付</label>
        {/if}
        {if condition="config('sys.is_alipay')"}
        <input type="radio" class="btn-check" name="alipay" id="alipay" onclick="ajax_shop_agent('alipay');">
        <label class="btn btn-alt-info" for="alipay">支付宝支付</label>
        {/if}
    </div>
    <input type="hidden" id="shopid">
</div>
{/block}
{block name="foot"}
<script>
    function select_payment(shopid) {
        {if condition="!config('sys.is_qqpay') && !config('sys.is_wxpay') && !config('sys.is_alipay')"}
        x.notify('暂无支付渠道，请联系站长', 'danger');
        return;
        {/if}
        $('#shopid').val(shopid);
        layer.open({
            type: 1,
            shade: false,
            title: false,
            content: $('#payment-selector'),
            cancel: function () {
                x.notify('交易取消', 'warning');
            },
        });
    }

        function ajax_shop_agent(pay_type)
        {
            var shopid = x.getval('#shopid');
            x.ajax('/index/ajax/shop/buy', {shop: 'agent', shopid: shopid, pay_type: pay_type}, function (data) {
                if (data.code == 1) {
                    layer.closeAll();
                    layer.confirm(data.message, {
                        btn: ['确定', '取消'],
                        closeBtn: 0,
                    }, function () {
                        window.location.href = data.data.success;
                    })
                } else {
                    x.notify(data.message, 'warning');
                    layer.closeAll();
                }
            })
        }
</script>
{/block}